---
title: 'Buffers and Windows'
description: 'Understanding the relationship between buffers, windows, and the screen in Vim'
keywords: ['vim buffers', 'vim windows', 'window management', 'buffer list', 'screen layout']
---

# Buffers and Windows

Vim's buffer and window system is one of its most powerful features, but it can be confusing for newcomers. Understanding the relationship between buffers, windows, and the screen is essential for efficient editing.

## Core Concepts

### What is a Buffer?

A **buffer** contains lines of text, usually read from a file. The buffer is the in-memory representation of your file content.

<Note>
Buffers exist independently of windows. A buffer can exist without being displayed, and you can display the same buffer in multiple windows.
</Note>

Key characteristics:
- Contains the actual text content
- Can be modified (changed from the file on disk)
- Has a name (usually the file path)
- Can be loaded, hidden, or unloaded
- Persists until explicitly deleted or Vim exits

### What is a Window?

A **window** is a viewport on a buffer. It's a way to view and edit the content of a buffer.

```
+-------------------------------+
| window 1      | window 2      |  <- Two windows
|               |               |
| buffer A      | buffer B      |  <- Viewing different buffers
|               |               |
|===============|===============|
| window 3                      |  <- Third window
|                               |
| buffer A                      |  <- Same buffer as window 1
|                               |
|===============================|
|command line                   |
+-------------------------------+
```

Key characteristics:
- Displays a buffer's content
- Has its own cursor position
- Has its own view of the buffer (scroll position, folds, etc.)
- Multiple windows can view the same buffer

### What is the Screen?

The **screen** is the whole area that Vim uses to work in, whether a terminal emulator window or a GUI application.

<Info>
Vim calls the entire application window the "Vim window" or "screen", while individual viewports within it are called "windows".
</Info>

## Buffer States

A buffer can be in one of several states:

<Tabs>
  <Tab title="Active">
    The buffer is loaded and displayed in a window. This is the buffer you're actively editing.
    
    ```vim
    " Check active buffers
    :ls
    "  1 %a   "file1.txt"        line 1
    "  2  a   "file2.txt"        line 1
    ```
    
    The `%` indicates the current buffer, `a` means active.
  </Tab>
  
  <Tab title="Hidden">
    The buffer is loaded but not displayed in any window. Its contents remain in memory.
    
    ```vim
    :set hidden      " Allow hidden buffers
    :edit file1.txt  " Load file1
    :edit file2.txt  " file1 becomes hidden
    ```
    
    <Warning>
    Without `set hidden`, Vim requires you to save or abandon changes before switching buffers.
    </Warning>
  </Tab>
  
  <Tab title="Inactive">
    The buffer is not loaded and not displayed. Only the file name is remembered in the buffer list.
    
    ```vim
    :badd file3.txt  " Add to buffer list without loading
    ```
  </Tab>
  
  <Tab title="Unloaded">
    The buffer was previously loaded but has been unloaded from memory. The file name is still in the buffer list.
    
    ```vim
    :bunload 3  " Unload buffer 3
    ```
  </Tab>
</Tabs>

## Working with Buffers

### Listing Buffers

```vim
:ls           " List all buffers
:buffers      " Same as :ls
:files        " Same as :ls
```

Output example:
```
  1 %a   "file1.txt"             line 1
  2  h   "file2.txt"             line 5
  3  a   "file3.txt"             line 10
```

Buffer indicators:
- `%` - Current buffer
- `#` - Alternate buffer (previous buffer)
- `a` - Active (loaded and visible)
- `h` - Hidden (loaded but not visible)
- `+` - Modified
- `-` - Unmodifiable
- `=` - Readonly

### Switching Buffers

<CodeGroup>

```vim By number
:buffer 3     " Switch to buffer 3
:b 3          " Short form
```

```vim By name
:buffer file.txt    " Switch by name
:b file             " Partial name works
```

```vim Navigation
CTRL-^        " Switch to alternate buffer (#)
:bnext        " Next buffer
:bn           " Short form
:bprevious    " Previous buffer
:bp           " Short form
:bfirst       " First buffer
:blast        " Last buffer
```

</CodeGroup>

### Deleting Buffers

```vim
:bdelete 3      " Delete buffer 3
:bd 3           " Short form
:bdelete file.txt  " Delete by name
:1,3bd          " Delete buffers 1-3
:%bd            " Delete all buffers
```

<Warning>
Deleting a buffer with unsaved changes will prompt for confirmation unless you use `!` to force it.
</Warning>

## Working with Windows

### Creating Windows

Windows are created by splitting the current window:

<CodeGroup>

```vim Horizontal splits
:split          " Split horizontally
:sp             " Short form
:split file.txt " Split and open file
CTRL-W s        " Split current window
```

```vim Vertical splits
:vsplit         " Split vertically  
:vs             " Short form
:vsplit file.txt " Split and open file
CTRL-W v        " Split current window vertically
```

```vim New empty window
:new            " New horizontal window
:vnew           " New vertical window
```

</CodeGroup>

### Navigating Windows

<Tabs>
  <Tab title="Directional">
    ```vim
    CTRL-W h    " Move to window on the left
    CTRL-W j    " Move to window below
    CTRL-W k    " Move to window above
    CTRL-W l    " Move to window on the right
    ```
    
    <Tip>
    These use the same hjkl navigation keys as Normal mode!
    </Tip>
  </Tab>
  
  <Tab title="Cyclic">
    ```vim
    CTRL-W w    " Move to next window
    CTRL-W W    " Move to previous window
    CTRL-W t    " Move to top-left window
    CTRL-W b    " Move to bottom-right window
    ```
  </Tab>
  
  <Tab title="Special">
    ```vim
    CTRL-W p    " Move to previous window
    CTRL-W P    " Go to preview window
    ```
  </Tab>
</Tabs>

### Resizing Windows

```vim
CTRL-W +        " Increase height
CTRL-W -        " Decrease height
CTRL-W >        " Increase width
CTRL-W <        " Decrease width
CTRL-W =        " Make all windows equal size
CTRL-W _        " Maximize height
CTRL-W |        " Maximize width

:resize 20      " Set height to 20 lines
:vertical resize 80  " Set width to 80 columns
```

### Moving and Rearranging Windows

```vim
CTRL-W r        " Rotate windows downward/rightward
CTRL-W R        " Rotate windows upward/leftward
CTRL-W x        " Exchange with next window

CTRL-W H        " Move window to far left
CTRL-W J        " Move window to very bottom
CTRL-W K        " Move window to very top
CTRL-W L        " Move window to far right
```

### Closing Windows

```vim
:quit           " Close current window
:q              " Short form
CTRL-W q        " Close current window
CTRL-W c        " Close current window (can't close last window)
:only           " Close all windows except current
:on             " Short form
CTRL-W o        " Close all windows except current
```

<Warning>
Closing a window doesn't delete the buffer. The buffer remains in memory until explicitly deleted.
</Warning>

## Buffer List vs Argument List

Vim maintains two separate lists:

<Columns cols={2}>
  <Card title="Buffer List" icon="list">
    Contains all buffers that have been opened during the session.
    
    ```vim
    :ls           " Show buffer list
    :bnext        " Navigate buffer list
    :bdelete      " Remove from buffer list
    ```
  </Card>
  
  <Card title="Argument List" icon="file">
    Contains files passed to Vim at startup or added with `:args`.
    
    ```vim
    :args         " Show argument list
    :next         " Navigate argument list
    :args *.txt   " Set new argument list
    ```
  </Card>
</Columns>

<Info>
The argument list is a subset of the buffer list. Files in the argument list are also in the buffer list.
</Info>

## Practical Examples

### Example 1: Editing Multiple Files

<Steps>
  <Step title="Open multiple files">
    ```vim
    vim file1.txt file2.txt file3.txt
    ```
    All three files are now in both the argument list and buffer list.
  </Step>
  
  <Step title="Navigate between files">
    ```vim
    :next     " Move to file2.txt
    :next     " Move to file3.txt
    :prev     " Move back to file2.txt
    ```
  </Step>
  
  <Step title="View multiple files at once">
    ```vim
    :split    " Split window
    :next     " Load next file in new window
    ```
    Now you can see file2.txt and file3.txt simultaneously.
  </Step>
</Steps>

### Example 2: Comparing Two Files

```vim
" Open first file
vim file1.txt

" Split vertically and open second file
:vsplit file2.txt

" Enable diff mode
:windo diffthis

" Navigate differences
]c    " Next difference
[c    " Previous difference
```

### Example 3: Working with Hidden Buffers

```vim
" Enable hidden buffers
:set hidden

" Open and edit multiple files
:edit file1.txt
" Make some changes without saving
:edit file2.txt  " file1.txt is now hidden
" Make changes to file2.txt
:edit file3.txt  " file2.txt is now hidden

" Save all changed buffers
:wall  " Write all
```

<Tip>
Using `set hidden` is highly recommended. It allows you to switch between buffers without constantly saving.
</Tip>

## Window-Local vs Buffer-Local Settings

Some settings are local to windows, others to buffers:

**Window-local settings:**
- `number` / `relativenumber` - Line numbering
- `wrap` - Line wrapping
- `scrolloff` - Scroll offset
- `cursorline` - Highlight cursor line
- `foldlevel` - Fold visibility

**Buffer-local settings:**
- `filetype` - File type
- `fileencoding` - File encoding
- `fileformat` - Line ending format
- `modifiable` - Whether buffer can be modified
- `readonly` - Whether buffer is read-only

<Info>
This means two windows viewing the same buffer can have different display settings (like line numbers) but share the same file properties.
</Info>

## Best Practices

<AccordionGroup>
  <Accordion title="Enable hidden buffers">
    Add to your vimrc:
    ```vim
    set hidden
    ```
    This allows switching buffers without saving, making multi-file editing much smoother.
  </Accordion>
  
  <Accordion title="Use meaningful names">
    When creating new buffers, give them meaningful names:
    ```vim
    :new scratch-notes
    :file my-notes.txt
    ```
  </Accordion>
  
  <Accordion title="Close windows, not buffers">
    When done with a view, close the window (`:q`) rather than deleting the buffer (`:bd`). This keeps your buffer list intact for easy switching.
  </Accordion>
  
  <Accordion title="Use buffer navigation shortcuts">
    Map convenient shortcuts for buffer navigation:
    ```vim
    nnoremap <C-N> :bnext<CR>
    nnoremap <C-P> :bprevious<CR>
    ```
  </Accordion>
</AccordionGroup>

## Troubleshooting

<Warning>
**Problem:** "No write since last change" error when switching buffers.

**Solution:** Either save the buffer (`:w`), abandon changes (`:e! otherfile`), or enable hidden buffers (`:set hidden`).
</Warning>

<Warning>
**Problem:** Can't close window with `:q` because it's the last window.

**Solution:** Use `:qa` to quit all windows and exit Vim, or `:bd` to delete the buffer.
</Warning>

## Quick Reference

| Command | Action |
|---------|--------|
| `:ls` | List all buffers |
| `:b [N]` | Switch to buffer N |
| `:bn` | Next buffer |
| `:bp` | Previous buffer |
| `:bd [N]` | Delete buffer N |
| `:sp [file]` | Horizontal split |
| `:vs [file]` | Vertical split |
| `CTRL-W w` | Next window |
| `CTRL-W hjkl` | Navigate to window |
| `CTRL-W q` | Close window |
| `CTRL-W o` | Close all but current window |
| `:only` | Close all but current window |
| `CTRL-^` | Switch to alternate buffer |
