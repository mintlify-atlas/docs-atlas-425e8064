---
title: Tags and Tag Navigation
description: Navigate code using ctags for quick access to function definitions and symbols
---

Tags provide a way to jump to definitions of functions, variables, classes, and other identifiers in your codebase. Vim uses tags files generated by programs like ctags.

## What is a Tag?

A tag is an identifier that appears in a tags file - typically a function name, class name, or variable. The tags file maps identifiers to their locations in source code.

## Generating Tags Files

Use `ctags` to generate a tags file:

```bash
# C/C++ project
ctags -R .

# Include more file types
ctags -R --languages=C,C++,Python .

# Generate tags for specific files
ctags *.c *.h
```

This creates a `tags` file in the current directory.

### Recommended: Universal Ctags

Use [Universal Ctags](https://ctags.io) (maintained fork of Exuberant Ctags) for better language support:

```bash
# Install on Ubuntu/Debian
sudo apt install universal-ctags

# Install on macOS
brew install universal-ctags
```

## Basic Tag Navigation

### Jump to Definition

```vim
CTRL-]           " Jump to tag under cursor
g<LeftMouse>     " Jump to tag (mouse click)
<C-LeftMouse>    " Jump to tag (Ctrl + mouse click)

:tag function    " Jump to 'function' tag
:tag /pattern    " Jump to tag matching pattern
```

### Return from Tag

```vim
CTRL-T           " Jump back to previous location
:pop             " Same as CTRL-T
:tag             " Jump forward in tag stack
```

### Visual Mode

```vim
{Visual}CTRL-]   " Jump to tag using visually selected text
```

## Tag Stack

Vim maintains a stack of tag locations you've visited:

```vim
:tags            " Show tag stack
CTRL-T           " Pop tag stack (go back)
:pop             " Pop tag stack
:[count]pop      " Go back [count] entries
:[count]tag      " Go forward [count] entries
:0tag            " Jump to last used tag
```

### Tag Stack Display

```
  # TO tag      FROM line  in file/text
  1  1 main         1  harddisk2:text/vim/test
> 2  2 FuncA       58  i = FuncA(10);
  3  1 FuncC      357  harddisk2:text/vim/src/amiga.c
```

The `>` marks the active entry.

## Multiple Matches

When multiple tags match, use these commands:

### List Matches

```vim
:tselect [name]  " List matching tags and select
:tjump [name]    " Jump if one match, list if multiple
g]               " Like CTRL-] but uses :tselect
g CTRL-]         " Like CTRL-] but uses :tjump
```

### Example Output

```
  # pri kind tag        file
  1 F   f    mch_delay  os_amiga.c
               mch_delay(msec, ignoreinput)
> 2 F   f    mch_delay  os_msdos.c
               mch_delay(msec, ignoreinput)
  3 F   f    mch_delay  os_unix.c
               mch_delay(msec, ignoreinput)
Type number and <Enter> (empty cancels):
```

### Navigate Matches

```vim
:tnext           " Jump to next matching tag
:tprevious       " Jump to previous matching tag
:tfirst          " Jump to first matching tag
:tlast           " Jump to last matching tag
:[count]tnext    " Jump to [count]th next match
```

## Window Splits with Tags

```vim
CTRL-W ]         " Split window and jump to tag
CTRL-W CTRL-]    " Split window and jump to tag  
:stag function   " Split window and jump to tag
:stjump function " Split window, use tjump behavior
:stselect name   " Split window, use tselect behavior
```

### Vertical Splits

```vim
:vertical stag function
:vert stag function
```

## Preview Window

View tag in preview window without leaving current window:

```vim
:ptag function   " Show tag in preview window
CTRL-W }         " Show tag under cursor in preview
:pclose          " Close preview window
CTRL-W z         " Close preview window

:ptnext          " Next tag in preview
:ptprevious      " Previous tag in preview
:ptselect        " Select tag for preview
```

## Tag Search Priority

When multiple matches exist, Vim uses this priority:

1. Full match, static tag, current file
2. Full match, global tag, current file
3. Full match, global tag, other file
4. Full match, static tag, other file
5. Ignore-case match, static tag, current file
6. Ignore-case match, global tag, current file
7. Ignore-case match, global tag, other file
8. Ignore-case match, static tag, other file

## Configuring Tags Files

The `tags` option specifies which tags files to search:

```vim
:set tags=./tags,tags,/usr/local/tags
```

### Search Order

- `./tags` - Tags file in directory of current file
- `tags` - Tags file in current directory
- `/usr/local/tags` - System-wide tags file

### Project-Specific Setup

```vim
" Search up directory tree for tags file
set tags=./tags;,tags;/

" Include common libraries
set tags+=~/.vim/tags/cpp_tags
set tags+=~/.vim/tags/sdl_tags
```

## Pattern Matching

Use patterns to find tags:

```vim
:tag /^get         " Tags starting with 'get'
:tag /norm         " Tags containing 'norm'
:tselect /pattern  " List all matching tags
```

Literal match vs. pattern:

```vim
:tag main          " Literal match for 'main'
:tag /main         " Pattern match (regex)
```

## Tag Commands Reference

| Command | Description |
|---------|-------------|
| `:tag {name}` | Jump to tag |
| `:tags` | Show tag stack |
| `CTRL-]` | Jump to tag under cursor |
| `CTRL-T` | Return from tag |
| `:tselect` | Select from matching tags |
| `:tjump` | Jump or select if multiple |
| `:tnext` | Next matching tag |
| `:tprevious` | Previous matching tag |
| `:tfirst` | First matching tag |
| `:tlast` | Last matching tag |
| `:stag` | Split and jump to tag |
| `:ptag` | Preview tag |

## Practical Examples

### C/C++ Project Setup

```vim
" In ~/.vimrc
set tags=./tags;,tags;/

" Generate tags on save (requires ctags)
autocmd BufWritePost *.c,*.cpp,*.h silent! !ctags -R &
```

### Python Project

```bash
# Generate Python tags
ctags -R --languages=python .
```

```vim
" In .vim/after/ftplugin/python.vim
set tags=./tags;,tags;/
```

### JavaScript/TypeScript

```bash
# Using Universal Ctags
ctags -R --languages=javascript,typescript .
```

### Multi-Language Project

```bash
ctags -R \
  --languages=C,C++,Python,JavaScript \
  --exclude=.git \
  --exclude=node_modules \
  --exclude=build
```

## Automatic Tag Generation

### Using Autocommands

```vim
" Auto-generate tags on save
autocmd BufWritePost *.c,*.h silent! !ctags -R . &

" Use job control (Vim 8+)
autocmd BufWritePost *.c,*.h call job_start('ctags -R')
```

### Using Plugins

Consider using plugins like:
- `vim-gutentags` - Automatic tag generation
- `tagbar` - Tag browser sidebar
- `vista.vim` - LSP-aware tag viewer

## Location List Integration

Populate location list with matching tags:

```vim
:ltag function   " Add matching tags to location list
:lopen           " Open location list window
```

## Tips

<Tip>
  Use `CTRL-]` and `CTRL-T` as a quick way to explore code: jump to definitions and return to continue reading.
</Tip>

<Tip>
  Generate tags for system libraries and add them to your `tags` option for quick access to standard library documentation.
</Tip>

<Tip>
  Use `:tag /pattern` with regex to find tags when you don't remember the exact name.
</Tip>

<Warning>
  Large tags files can slow down tag searches. Consider splitting into multiple files or using binary search format.
</Warning>